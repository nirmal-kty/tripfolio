{#<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">#}
{#<html xmlns="http://www.w3.org/1999/xhtml">#}
{#<head>#}
{#<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />#}
{#<title>Untitled Document</title>#}
{#<style type="text/css">#}
{#<!--#}
{#.style1 {font-size: 9px}#}
{#-->#}
{#</style>#}
{#</head>#}
{##}
{#<body>#}
{#<form id="form1" name="form1" method="post" action="">#}
{#  <table width="414" border="1">#}
{#    <tr>#}
{#      <td colspan="6">Reg No #}
{#        <label>#}
{#        <input name="textfield" type="text" class="style1" />#}
{#        <input type="submit" name="Submit" value="Search" />#}
{#      </label></td>#}
{#    </tr>#}
{#    <tr>#}
{#      <td width="44">owner name </td>#}
{#      <td width="44">reg no </td>#}
{#      <td width="42">model</td>#}
{#      <td width="48">year</td>#}
{#      <td width="64">certificates</td>#}
{#      <td width="132">Manage</td>#}
{#    </tr>#}
{#      {% for i in data %}#}
{#    <tr>#}
{#       <td>&nbsp;{{ i.OWNER.name }}</td>#}
{#      <td> {{ i.bus_no }}&nbsp;</td>#}
{#      <td> {{ i.model }}  </td>#}
{#      <td>&nbsp;{{ i.year }}</td>#}
{#      <td><a href="{{ i.certificate.url }}"><img src="{{ i.certificate.url }}" height="50" width="50"></a></td>#}
{##}
{#      <td><a href="/accept_bus/{{ i.id }}">Accept</a> /#}
{#      <a href="/reject_bus/{{ i.id }}">Reject</a></td>#}
{#    </tr>#}
{#      {% endfor %}#}
{#  </table>#}
{#</form>#}
{#</body>#}
{#</html>#}

{#<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">#}
{#<html xmlns="http://www.w3.org/1999/xhtml">#}
{#<head>#}
{#  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />#}



{##}
{##}
{#{% extends 'admin/indexsub.html' %}#}
{#{% block body %}#}
{#  <title>Manage Buses</title>#}
{#  <style>#}
{##}
{##}
{#    .heading {#}
{#      text-align: center;#}
{#      font-weight: 900;#}
{#      font-size: 30px;#}
{#      color: rgb(16, 137, 211);#}
{#    }#}
{##}
{#    .form {#}
{#      margin-top: 20px;#}
{#    }#}
{##}
{#    .form .input {#}
{#      width: 100%;#}
{#      background: white;#}
{#      border: none;#}
{#      padding: 15px 20px;#}
{#      border-radius: 20px;#}
{#      margin-top: 15px;#}
{#      box-shadow: #cff0ff 0px 10px 10px -5px;#}
{#      border-inline: 2px solid transparent;#}
{#    }#}
{##}
{#    .form .input::placeholder {#}
{#      color: rgb(170, 170, 170);#}
{#    }#}
{##}
{#    .form .input:focus {#}
{#      outline: none;#}
{#      border-inline: 2px solid #12b1d1;#}
{#    }#}
{##}
{#    .form .forgot-password {#}
{#      display: block;#}
{#      margin-top: 10px;#}
{#      margin-left: 10px;#}
{#    }#}
{##}
{#    .form .forgot-password a {#}
{#      font-size: 11px;#}
{#      color: #0099ff;#}
{#      text-decoration: none;#}
{#    }#}
{##}
{#    .form .login-button {#}
{#      display: block;#}
{#      width: 100%;#}
{#      font-weight: bold;#}
{#      background: linear-gradient(45deg, rgb(16, 137, 211) 0%, rgb(18, 177, 209) 100%);#}
{#      color: white;#}
{#      padding-block: 15px;#}
{#      margin: 20px auto;#}
{#      border-radius: 20px;#}
{#      box-shadow: rgba(133, 189, 215, 0.8784313725) 0px 20px 10px -15px;#}
{#      border: none;#}
{#      transition: all 0.2s ease-in-out;#}
{#    }#}
{##}
{#    .form .login-button:hover {#}
{#      transform: scale(1.03);#}
{#      box-shadow: rgba(133, 189, 215, 0.8784313725) 0px 23px 10px -20px;#}
{#    }#}
{##}
{#    .form .login-button:active {#}
{#      transform: scale(0.95);#}
{#      box-shadow: rgba(133, 189, 215, 0.8784313725) 0px 15px 10px -10px;#}
{#    }#}
{##}
{#    .social-account-container {#}
{#      margin-top: 25px;#}
{#    }#}
{##}
{#    .social-account-container .title {#}
{#      display: block;#}
{#      text-align: center;#}
{#      font-size: 10px;#}
{#      color: rgb(170, 170, 170);#}
{#    }#}
{##}
{#    .social-account-container .social-accounts {#}
{#      width: 100%;#}
{#      display: flex;#}
{#      justify-content: center;#}
{#      gap: 15px;#}
{#      margin-top: 5px;#}
{#    }#}
{##}
{#    .social-account-container .social-accounts .social-button {#}
{#      background: linear-gradient(45deg, rgb(0, 0, 0) 0%, rgb(112, 112, 112) 100%);#}
{#      border: 5px solid white;#}
{#      padding: 5px;#}
{#      border-radius: 50%;#}
{#      width: 40px;#}
{#      aspect-ratio: 1;#}
{#      display: grid;#}
{#      place-content: center;#}
{#      box-shadow: rgba(133, 189, 215, 0.8784313725) 0px 12px 10px -8px;#}
{#      transition: all 0.2s ease-in-out;#}
{#    }#}
{##}
{#    .social-account-container .social-accounts .social-button .svg {#}
{#      fill: white;#}
{#      margin: auto;#}
{#    }#}
{##}
{#    .social-account-container .social-accounts .social-button:hover {#}
{#      transform: scale(1.2);#}
{#    }#}
{##}
{#    .social-account-container .social-accounts .social-button:active {#}
{#      transform: scale(0.9);#}
{#    }#}
{##}
{#    .agreement {#}
{#      display: block;#}
{#      text-align: center;#}
{#      margin-top: 15px;#}
{#    }#}
{##}
{#    .agreement a {#}
{#      text-decoration: none;#}
{#      color: #0099ff;#}
{#      font-size: 9px;#}
{#    }#}
{##}
{#    /* Table and Button Styling */#}
{#    .form-table {#}
{#      width: 100%;#}
{#      border-collapse: collapse;#}
{#      color: rgb(16, 137, 211);#}
{#    }#}
{##}
{#    .form-table thead {#}
{#      background-color: #0a192f;#}
{#      color: #fff;#}
{#    }#}
{##}
{#    .form-table th,#}
{#    .form-table td {#}
{#      padding: 12px 16px;#}
{#      text-align: left;#}
{#      border: 1px solid rgb(16, 137, 211);#}
{#    }#}
{##}
{#    .form-table tbody tr {#}
{#      background-color: rgb(244, 247, 251);#}
{#    }#}
{##}
{#    .form-table tbody tr:hover {#}
{#      background-color: #e0f7fa;#}
{#    }#}
{##}
{#    /* Button Style for Accept and Reject */#}
{#    button {#}
{#      border: 2px solid #24b4fb;#}
{#      background-color: #24b4fb;#}
{#      border-radius: 0.9em;#}
{#      cursor: pointer;#}
{#      padding: 0.8em 1.2em 0.8em 1em;#}
{#      transition: all ease-in-out 0.2s;#}
{#      font-size: 16px;#}
{#    }#}
{##}
{#    button span {#}
{#      display: flex;#}
{#      justify-content: center;#}
{#      align-items: center;#}
{#      color: #fff;#}
{#      font-weight: 600;#}
{#    }#}
{##}
{#    button:hover {#}
{#      background-color: #0071e2;#}
{#    }#}
{#  </style>#}
{#</head>#}
{##}
{#<body>#}
{#  <div class="container">#}
{#    <div class="heading">Manage Buses</div>#}
{#    <form id="form1" name="form1" method="post" action="search_bus#services">#}
{#      <div class="form">#}
{#        <input name="textfield" type="text" class="input" placeholder="Enter Registration Number" />#}
{#        <input type="submit" name="Submit" value="Search" class="login-button" />#}
{#      </div>#}
{#      <table class="form-table">#}
{#        <thead>#}
{#          <tr>#}
{#            <th>Si.No</th>#}
{#            <th>Owner Name</th>#}
{#            <th>Reg No</th>#}
{#            <th>Seat Capacity</th>#}
{#            <th>Year</th>#}
{#            <th>Certificates</th>#}
{#            <th>Manage</th>#}
{#          </tr>#}
{#        </thead>#}
{#        <tbody>#}
{#          {% for i in data %}#}
{#          <tr>#}
{#            <td>{{ forloop.counter }}</td>#}
{#            <td>{{ i.OWNER.name }}</td>#}
{#            <td>{{ i.bus_no }}</td>#}
{#            <td>{{ i.model }}</td>#}
{#            <td>{{ i.year }}</td>#}
{#            <td><a href="{{ i.certificate.url }}"><img src="{{ i.certificate.url }}" height="50" width="50" /></a></td>#}
{#            <td>#}
{#                {% if i.status == 'pending' %}#}
{#                <a href="/accept_bus/{{ i.id }}">Accept</a> /#}
{#            <a href="/reject_bus/{{ i.id }}">Reject</a>#}
{#                {% else %}#}
{#                    {% if i.status == 'accept' %}#}
{#                        Accepted#}
{#                        {% else %}#}
{#                        Rejected#}
{#                {% endif %}#}
{#                {% endif %}#}
{#            </td>#}
{#          </tr>#}
{#          {% endfor %}#}
{#        </tbody>#}
{#      </table>#}
{#    </form>#}
{#  </div>#}
{#{% endblock %}#}


{% extends 'admin/indexsub.html' %}
{% block body %}
  <title>Manage Buses</title>
  <style>
    /* From Uiverse.io by mahbowal */
    .containerbus {
      max-width: 100%;
      background: #f8f9fd;
      background: linear-gradient(0deg, rgb(255, 255, 255) 0%, rgb(244, 247, 251) 100%);
      border-radius: 40px;
      padding: 25px 35px;
      border: 5px solid rgb(255, 255, 255);
      box-shadow: rgba(133, 189, 215, 0.8784313725) 0px 30px 30px -20px;
      margin: 20px;
    }

    .heading {
      text-align: center;
      font-weight: 900;
      font-size: 30px;
      color: rgb(16, 137, 211);
      margin-bottom: 20px;
    }

    /* Search Form Styling */
    .search-form {
      margin-bottom: 20px;
    }

    .search-input {
      width: 100%;
      background: white;
      border: none;
      padding: 15px 20px;
      border-radius: 20px;
      margin-top: 15px;
      box-shadow: #cff0ff 0px 10px 10px -5px;
      border-inline: 2px solid transparent;
    }

    .search-input:focus {
      outline: none;
      border-inline: 2px solid #12b1d1;
    }

    .search-button {
      display: block;
      width: 100%;
      font-weight: bold;
      background: linear-gradient(45deg, rgb(16, 137, 211) 0%, rgb(18, 177, 209) 100%);
      color: white;
      padding-block: 15px;
      margin: 20px auto;
      border-radius: 20px;
      box-shadow: rgba(133, 189, 215, 0.8784313725) 0px 20px 10px -15px;
      border: none;
      transition: all 0.2s ease-in-out;
      cursor: pointer;
    }

    .search-button:hover {
      transform: scale(1.03);
      box-shadow: rgba(133, 189, 215, 0.8784313725) 0px 23px 10px -20px;
    }

    /* Table Styling */
    .bus-table {
      width: 100%;
      border-collapse: collapse;
      color: rgb(16, 137, 211);
      margin-top: 20px;
    }

    .bus-table thead {
      background-color: #0a192f;
      color: #fff;
    }

    .bus-table th,
    .bus-table td {
      padding: 12px 16px;
      text-align: left;
      border: 1px solid rgb(16, 137, 211);
    }

    .bus-table tbody tr {
      background-color: rgb(244, 247, 251);
    }

    .bus-table tbody tr:hover {
      background-color: #e0f7fa;
    }

    /* Certificate Image Styling */
    .certificate-image {
      border: 2px solid #12b1d1;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      transition: all 0.3s;
    }

    .certificate-image:hover {
      transform: scale(1.05);
    }

    /* Status Buttons */
    .status-btn {
      padding: 6px 12px;
      border-radius: 20px;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.3s;
      font-size: 14px;
      color: white;
      border: 1px solid transparent;
      display: inline-block;
      min-width: 80px;
      text-align: center;
      text-transform: capitalize;
    }

    .status-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    .status-accepted {
      background-color: #28a745; /* Green */
      border-color: #218838;
    }

    .status-rejected {
      background-color: #dc3545; /* Red */
      border-color: #c82333;
    }

    .status-pending {
      background-color: #ffc107; /* Yellow */
      border-color: #e0a800;
      color: #212529; /* Dark text for better contrast */
    }

    /* Action Links */
    .action-links {
      display: flex;
      gap: 10px;
    }

    .accept-link {
      padding: 6px 12px;
      border-radius: 20px;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.3s;
      font-size: 14px;
      background-color: #28a745;
      color: white;
      border: 1px solid #28a745;
    }

    .accept-link:hover {
      background-color: #218838;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(40, 167, 69, 0.3);
    }

    .reject-link {
      padding: 6px 12px;
      border-radius: 20px;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.3s;
      font-size: 14px;
      background-color: #dc3545;
      color: white;
      border: 1px solid #dc3545;
    }

    .reject-link:hover {
      background-color: #c82333;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(220, 53, 69, 0.3);
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .bus-table {
        display: block;
        overflow-x: auto;
      }
    }
  </style>
</head>

<body>
  <div class="containerbus">
    <div class="heading">Manage Buses</div>
    <form id="form1" name="form1" method="post" action="search_bus#services" class="search-form">
      <input name="textfield" type="text" class="search-input" placeholder="Enter Registration Number" />
      <input type="submit" name="Submit" value="Search" class="search-button" />
    </form>
    <table class="bus-table">
      <thead>
        <tr>
          <th>Si.No</th>
          <th>Owner Name</th>
          <th>Bus Name</th>
          <th>Reg No</th>
          <th>Seat Capacity</th>
          <th>Year</th>
          <th>Certificates</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        {% for i in data %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>{{ i.OWNER.name }}</td>
          <td>{{ i.name }}</td>
          <td>{{ i.bus_no }}</td>
          <td>{{ i.model }}</td>
          <td>{{ i.year }}</td>
          <td><a href="{{ i.certificate.url }}"><img src="{{ i.certificate.url }}" height="50" width="50" class="certificate-image" /></a></td>
          <td>
            {% if i.status == 'pending' %}
              <div class="action-links">
                <a href="/accept_bus/{{ i.id }}" class="accept-link">Accept</a>
                <a href="/reject_bus/{{ i.id }}" class="reject-link">Reject</a>
              </div>
            {% else %}
              <span class="status-btn status-{{ i.status }}">
                {{ i.status }}
              </span>
            {% endif %}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}